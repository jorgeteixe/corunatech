---
import { getCollection } from 'astro:content'
import CommunitySimpleCard from './CommunitySimpleCard.astro'

const communities = await getCollection('communities')
---

<section class="py-12">
  <div
    class="max-w-7xl mx-auto p-[3rem] bg-accent rounded-2xl"
    style="background-color: var(--color-bg-accent);"
  >
    <div class="mb-12">
      <h2 class="text-6xl font-bold text-white mb-4 font-display">
        Comunidades Tecnolóxicas da Coruña
      </h2>
      <p class="text-xl text-white max-w-3xl">
        Descubre e conéctate coas comunidades tech locais.
      </p>
    </div>

    <div class="grid grid-cols-3 md:grid-cols-5 lg:grid-cols-6 gap-6">
      {
        communities.map(community => (
          <CommunitySimpleCard community={community} />
        ))
      }
    </div>

    {
      communities.length === 0 && (
        <div class="text-center py-12">
          <p class="text-gray-400 text-lg">
            Non se atoparon comunidades. Pronto engadiremos máis!
          </p>
        </div>
      )
    }
  </div>
</section>
